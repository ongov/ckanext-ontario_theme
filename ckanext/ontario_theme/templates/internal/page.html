{% ckan_extends %}

{% block skip %}
  <a href="#content" class="skip-main sr-only sr-only-focusable">{{ _('Skip to content') }}</a>
{% endblock skip %}

{%- block content %}
  {% block maintag %}
    {%- block schema_tag_attr -%}
    {%- endblock schema_tag_attr %}
    <div class="ontario-row">
    {% endblock maintag %}
    <div id="content" class="ontario-small-12 ontario-columns" role="main">
      {% block main_content %}
        {% block flash %}
          {{ super() }}
        {% endblock flash %}

        {% block toolbar %}
          <div class="toolbar" role="navigation" aria-label="{{ _('Breadcrumb') }}">
            {% block breadcrumb %}
              <ol class="breadcrumb">
                {% snippet "snippets/home_breadcrumb_item.html" %}
                {% if self.breadcrumb_content() | trim %}
                  {% block breadcrumb_content %}
                  {% endblock breadcrumb_content %}
                {% endif %}
              </ol>
            {% endblock breadcrumb %}
          </div>
        {% endblock toolbar %}

        {% block ontario_theme_search_form %}
          {# Custom block for search form. #}
        {% endblock ontario_theme_search_form %}

        <div class="wrapper ontario-row
                    {% block wrapper_class %}
                    {% endblock wrapper_class %}
                    {% if self.secondary()|trim == '' or c.action=='resource_read' %}no-nav{% endif %}">
          {#
          The pre_primary block can be used to add content to before the
          rendering of the main content columns of the page.
          #}
          {% block pre_primary %}
          {% endblock pre_primary %}

          {% block secondary %}
            <aside class="secondary ontario-columns ontario-small-3 filter-results">
              {% block secondary_content %}
                {{ super() }}
              {% endblock secondary_content %}
            </aside>
          {% endblock secondary %}

          {% block primary %}
            <div class="primary ontario-columns ontario-medium-9 ontario-small-12">
              {% block primary_content %}
                <article class="module">
                  {% block page_header %}
                    <header class="module-content page-header">
                      {% if self.content_action() | trim %}
                        <div class="content_action">
                          {% block content_action %}
                          {% endblock content_action %}
                        </div>
                      {% endif %}
                      <ul class="nav nav-tabs">
                        {% block content_primary_nav %}
                        {% endblock content_primary_nav %}
                      </ul>
                    </header>
                  {% endblock page_header %}
                  <div class="module-content">
                    {% if self.page_primary_action() | trim %}
                      <div class="page_primary_action">
                        {% block page_primary_action %}
                        {% endblock page_primary_action %}
                      </div>
                    {% endif %}
                    {% block primary_content_inner %}
                    {% endblock primary_content_inner %}
                  </div>
                </article>
              {% endblock primary_content %}
            </div>
          {% endblock primary %}
        </div>
      {% endblock main_content %}
    </div>
  </div>
  {% snippet "snippets/back_to_top.html" %}
{% endblock content %}
